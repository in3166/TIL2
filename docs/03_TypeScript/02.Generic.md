# ğŸ“Œ TypeScript Genericê³¼ ì½”ë“œ ì„¤ëª…

## **1. TypeScript Genericì´ë€?**
### âœ… **Genericì˜ ê°œë…**
- TypeScriptì—ì„œ **ì œë„¤ë¦­(Generics)**ì€ **í•¨ìˆ˜, í´ë˜ìŠ¤, ì¸í„°í˜ì´ìŠ¤, íƒ€ì…**ì„ **ë‹¤ì–‘í•œ íƒ€ì…ì„ ì§€ì›í•˜ë„ë¡ ì¼ë°˜í™”(Generalization)í•˜ëŠ” ê¸°ëŠ¥**ì…ë‹ˆë‹¤.
- **ì¬ì‚¬ìš©ì„±ì´ ë›°ì–´ë‚˜ê³ , ì½”ë“œì˜ íƒ€ì… ì•ˆì •ì„±ì„ ìœ ì§€í•˜ë©´ì„œ ìœ ì—°ì„±ì„ ì œê³µí•©ë‹ˆë‹¤.**

### âœ… **Generic ì‚¬ìš© ì˜ˆì œ**
```ts
function identity<T>(arg: T): T {
  return arg;
}

console.log(identity<number>(5)); // 5
console.log(identity<string>("Hello")); // "Hello"
```
- `<T>`: ì œë„¤ë¦­ íƒ€ì… ë³€ìˆ˜ë¡œ, í˜¸ì¶œ ì‹œ íŠ¹ì • íƒ€ì…(`number`, `string` ë“±)ìœ¼ë¡œ ê²°ì •ë¨.
- `identity<number>(5)`: `T`ê°€ `number`ê°€ ë˜ì–´ ë°˜í™˜ íƒ€ì…ë„ `number`.
- `identity<string>("Hello")`: `T`ê°€ `string`ì´ ë˜ì–´ ë°˜í™˜ íƒ€ì…ë„ `string`.

---

## **2. ì½”ë“œ ì„¤ëª…**
### ğŸ“Œ **1) `ExcludeNullable<T, K>` íƒ€ì…**
```ts
type ExcludeNullable<T, K extends keyof NonNullable<T>> = NonNullable<T> & {
  [k in K]-?: Exclude<NonNullable<T>[k], null | undefined>;
};
```
âœ… **ì—­í• :**  
- `T` íƒ€ì…ì—ì„œ `null | undefined` ê°’ì„ **ì œì™¸í•œ íƒ€ì…**ì„ ë°˜í™˜  
- `K`ì— í•´ë‹¹í•˜ëŠ” ì†ì„±ë“¤ì€ ë°˜ë“œì‹œ ì¡´ì¬í•´ì•¼ í•˜ë©°(`-?`), `null | undefined`ë¥¼ ì œì™¸  
- `NonNullable<T>`: `null | undefined`ë¥¼ ì œê±°í•˜ëŠ” TypeScript ìœ í‹¸ë¦¬í‹° íƒ€ì…

âœ… **ì‚¬ìš© ì˜ˆì‹œ**
```ts
type User = {
  id: number | null;
  name?: string | null;
};

type NonNullableUser = ExcludeNullable<User, "id">;
// ê²°ê³¼: { id: number; name?: string; }
```
- `id`ê°€ `number | null`ì´ì—ˆì§€ë§Œ `number`ë¡œ ê°•ì œë¨.
- `name`ì€ `undefined`ëŠ” í—ˆìš©ë˜ì§€ë§Œ `null`ì€ ì œê±°ë˜ì§€ ì•ŠìŒ.

---

### ğŸ“Œ **2) `hasAllKeys<T, K>` í•¨ìˆ˜**
```ts
export const hasAllKeys = <T, K extends keyof NonNullable<T>>(
  obj: T,
  keysToCheck: K[]
): obj is ExcludeNullable<T, K> => {
  return obj !== null && obj !== undefined && keysToCheck.every((k) => obj?.[k] !== null && obj?.[k] !== undefined);
};
```
âœ… **ì—­í• :**  
- ê°ì²´(`obj`)ê°€ `keysToCheck` ë°°ì—´ì— ìˆëŠ” ëª¨ë“  ì†ì„±ì„ ê°€ì§€ê³  ìˆìœ¼ë©°, `null | undefined`ê°€ ì•„ë‹Œì§€ ê²€ì‚¬
- `obj`ê°€ `null` ë˜ëŠ” `undefined`ë¼ë©´ `false` ë°˜í™˜
- `obj`ê°€ `keysToCheck`ì˜ ëª¨ë“  ì†ì„±ì„ ê°–ê³  ìˆìœ¼ë©´ `true` ë°˜í™˜í•˜ë©°, íƒ€ì…ì„ **`ExcludeNullable<T, K>`ë¡œ ì¢í˜**

âœ… **ì‚¬ìš© ì˜ˆì‹œ**
```ts
const user: Partial<User> = { id: 5 }; 

if (hasAllKeys(user, ["id"])) {
  console.log(user.id.toFixed(2)); // âœ… íƒ€ì… ì•ˆì „í•˜ê²Œ ì‚¬ìš© ê°€ëŠ¥
}
```
- `user.id`ëŠ” `number`ê°€ í™•ì •ë˜ì—ˆê¸° ë•Œë¬¸ì— ì•ˆì „í•˜ê²Œ `toFixed()` ì‚¬ìš© ê°€ëŠ¥

---

### ğŸ“Œ **3) `ExcludeFalsyArray<T>` íƒ€ì…**
```ts
type ExcludeFalsyArray<T> = Array<Exclude<T, null | undefined>>;
```
âœ… **ì—­í• :**  
- ë°°ì—´ ìš”ì†Œì—ì„œ `null` ë˜ëŠ” `undefined`ë¥¼ **ì œì™¸í•œ ë°°ì—´ íƒ€ì…**ì„ ìƒì„±
- `Array<T>`ì—ì„œ `T`ê°€ `null | undefined`ì¼ ê²½ìš° ì œê±°

âœ… **ì‚¬ìš© ì˜ˆì‹œ**
```ts
type MyArray = ExcludeFalsyArray<number | null | undefined>; 
// ê²°ê³¼: number[] (nullê³¼ undefinedê°€ ì œê±°ë¨)
```

---

### ğŸ“Œ **4) `checkNonFalsyArray<K>` í•¨ìˆ˜**
```ts
export const checkNonFalsyArray = <K>(array: K[]): array is ExcludeFalsyArray<K> => {
  return array.every((b): b is Exclude<K, null> => b !== null && b !== undefined);
};
```
âœ… **ì—­í• :**  
- ë°°ì—´ì—ì„œ `null` ë˜ëŠ” `undefined`ê°€ ì—†ëŠ”ì§€ ê²€ì‚¬
- **ë°°ì—´ì´ `null | undefined` ê°’ì„ í¬í•¨í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´, í•´ë‹¹ ë°°ì—´ì„ `ExcludeFalsyArray<K>`ë¡œ ê°„ì£¼**

âœ… **ì‚¬ìš© ì˜ˆì‹œ**
```ts
const arr = [1, 2, null, 4];
if (checkNonFalsyArray(arr)) {
  console.log(arr.map((num) => num.toFixed(2))); // âœ… íƒ€ì… ì•ˆì •ì„± ë³´ì¥
}
```
- `null`ì´ ìˆìœ¼ë©´ `false` ë°˜í™˜, `null`ì´ ì—†ìœ¼ë©´ ì•ˆì „í•˜ê²Œ ì‚¬ìš© ê°€ëŠ¥

---

### ğŸ“Œ **5) `checkNonFalsyValue<T>` í•¨ìˆ˜**
```ts
export const checkNonFalsyValue = <T>(value: T): value is Exclude<T, null | undefined> => {
  return value !== null && value !== undefined;
};
```
âœ… **ì—­í• :**  
- ë‹¨ì¼ ê°’ì´ `null | undefined`ì¸ì§€ ê²€ì‚¬
- `null | undefined`ê°€ ì•„ë‹Œ ê²½ìš° í•´ë‹¹ ê°’ì˜ íƒ€ì…ì„ `Exclude<T, null | undefined>`ë¡œ ì¢í˜

âœ… **ì‚¬ìš© ì˜ˆì‹œ**
```ts
const userId: number | null = 5;
if (checkNonFalsyValue(userId)) {
  console.log(userId.toFixed(2)); // âœ… íƒ€ì… ì•ˆì •ì„± ë³´ì¥
}
```
- `null`ì´ë©´ `false`, ê°’ì´ ìˆìœ¼ë©´ íƒ€ì…ì´ `number`ë¡œ í™•ì •ë¨.

---

## **ğŸ“Œ ì •ë¦¬**
| í•¨ìˆ˜/íƒ€ì… | ì—­í•  |
|-----------|------|
| `ExcludeNullable<T, K>` | íŠ¹ì • ì†ì„±ì—ì„œ `null | undefined`ë¥¼ ì œê±°í•˜ê³ , í•„ìˆ˜ ì†ì„±ìœ¼ë¡œ ë§Œë“¦ |
| `hasAllKeys<T, K>` | ê°ì²´ê°€ íŠ¹ì • í‚¤ë¥¼ ëª¨ë‘ í¬í•¨í•˜ê³ , `null | undefined`ê°€ ì—†ëŠ”ì§€ ê²€ì‚¬ |
| `ExcludeFalsyArray<T>` | ë°°ì—´ ìš”ì†Œì—ì„œ `null | undefined`ë¥¼ ì œê±°í•œ ë°°ì—´ íƒ€ì… ë°˜í™˜ |
| `checkNonFalsyArray<K>` | ë°°ì—´ì´ `null | undefined` ê°’ì„ í¬í•¨í•˜ì§€ ì•ŠëŠ”ì§€ í™•ì¸ |
| `checkNonFalsyValue<T>` | ê°œë³„ ê°’ì´ `null | undefined`ì¸ì§€ í™•ì¸ |
